#!/bin/sh

function usage() {
    echo "$0 <path to target repository>"
    echo
    echo "path to target repository : the repository to upload to package manager"
    echo "                            must be named com.unity.uiwidgets"
    exit -1
}

if [ "$#" != "1" ]; then
    usage
fi

target_repository=$1
echo "Copying to $target_repository"

if ! [ -d $target_repository ]; then
    echo "Target respository does not exist!"
    exit -1
fi

rm -rf $target_repository/Documentation~
cp -R ../Documentation~ $target_repository/
echo "Copied Documentation"

rm -rf $target_repository/Runtime
cp -R ../Runtime $target_repository/
echo "Copied Runtime"

rm -rf $target_repository/Editor
cp -R ../Editor $target_repository/
echo "Copied Editor"

rm -rf $target_repository/Samples
cp -R ../Samples $target_repository/
echo "Copied Samples"

rm -rf $target_repository/Tests
cp -R ../Tests $target_repository/
echo "Copied Tests"

cp ../README.md* $target_repository
echo "Copied README"
